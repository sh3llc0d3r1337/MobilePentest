#!/usr/bin/python

import sys

from androguard.core.bytecodes import apk
#from androguard.core.bytecodes import dvm


if len(sys.argv) < 2:
	print "Usage: %s <APK filename>" % (sys.argv[0])
	exit()

APK_file = sys.argv[1]


a = apk.APK(APK_file)
#d = dvm.DalvikVMFormat(a.get_dex())

filename = a.get_filename()
print "\nFilename: %s" % (filename)
packagename = a.get_package()
print "Package name: %s" % (packagename)

print "\nPermissions:"
permissions = a.get_permissions()
for permission in permissions:
	print permission

print "\nActivities:"
activities = a.get_activities()
for activity in activities:
	print activity

print "\nServices:"
services = a.get_services()
for service in services:
	print service

print "\nProviders:"
providers = a.get_providers()
for provider in providers:
	print provider

print "\nReceivers:"
receivers = a.get_receivers()
for receiver in receivers:
	print receiver
