Steps to create a fake Wifi Access Point in Kali2.


1. Install necessary modules.

apt-get install hostapd dnsmasq wireless-tools iw

2. Create/edit these configuration files

    /etc/hostapd/hostapd.conf:

interface=<wlan interface>
hw_mode=g
channel=6
#driver=

ssid=<AP_SSID>
auth_algs=1
wpa=2
wpa_key_mgmt=WPA-PSK
rsn_pairwise=CCMP
wpa_passphrase=<WPA_PASSWORD>

    /etc/dnsmasq.conf:

log-facility=/var/log/dnsmasq.log
interface=<wlan interface>
dhcp-range=10.0.0.10,10.0.0.250,12h
dhcp-option=3,10.0.0.1
dhcp-option=6,10.0.0.1
#no-resolv
log-queries

3. Fix the wifi driver problem if necessary.

nmcli radio wifi off
rfkill unblock wlan

4. Edit the start and stop script and replace the wlanX with the appropriate value.

5. Start Burp Suite and at Proxy/Options edit the interface:
- On tab Binding: Bind to address -> All interfaces
- On tab request Handling: Check Support invisible proxying


