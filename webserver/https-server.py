#!/usr/bin/python


# Generate self signed certificate with the following line:
# openssl req -new -x509 -keyout key.pem -out server.pem -days 365 -nodes


import BaseHTTPServer, SimpleHTTPServer
import ssl
import sys
import os


IP = 'localhost'
PORT_NUM = 443

print "[+] Starting HTTPS server:  %s:%d" % (IP, PORT_NUM)

try:
	httpd = BaseHTTPServer.HTTPServer(
		(IP, PORT_NUM),
		SimpleHTTPServer.SimpleHTTPRequestHandler)
	httpd.socket = ssl.wrap_socket(
		httpd.socket,
		certfile=os.path.join(os.getcwd(), 'server.pem'),
		server_side=True,
		keyfile=os.path.join(os.getcwd(), 'key.pem'))
	httpd.serve_forever()
except KeyboardInterrupt:
	print "\r\n[+] Exiting ..."
except:
	raise
